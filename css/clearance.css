/* =========================================
   Barangay Clearance - Scalable Stylesheet
   Fits A4 (8.27x11.69), Letter (8.5x11),
   and 8.5x13 while preserving the pattern.
   ========================================= */

/* ---------- Reset ---------- */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { background:#fff; }

body {
  font-family: "Times New Roman", Times, serif; /* CHANGED FONT HERE */
  font-size: 11px;
  line-height: 1.3;
  padding: 10px;            /* screen only */
}

/* ---------- Page-aware vars ---------- */
:root{
  --page-margin: 10mm;      /* base; overridden in print */
  --content-width: 7.25in;
  --content-pad: 0.25in;
}

/* ---------- Container ---------- */
.container{
  width: 100%;
  max-width: var(--content-width);
  margin: 0 auto;
  padding: var(--content-pad);
}
img, table{ max-width:100%; height:auto; }

/* ---------- Header ---------- */
.logo-header{
  display:flex; justify-content: space-between; align-items: center;
  text-align:center; gap: 0.25in;
}
.logo{ width: 0.95in; height:auto; }
.header-text{ text-align:center; }
.header-text h3, .header-text h4{ font-weight:700; font-size: 13px; }
.header-line{ border-top: 1px solid #000; margin-top: 2px; }

/* ---------- Title ---------- */
h2{ text-align:center; font-size: 18px; font-weight:700; }

/* ---------- Council ---------- */
.council-box{ width:100%; padding: 5px; font-size: 11px; }
.council-box h1{ font-size: 16px; margin: 0 0 4px; }

.official-title{ font-size:11px; line-height:1.15; text-align:left; }
.official-title strong{ display:block; margin-bottom: 8px; }
.official-title span{ display:block; margin-top: 4px; }

/* ---------- Certification ---------- */
.barangay-certification{ margin-top: 8px; }
.barangay-certification p{ text-align: justify; font-size: 11px; margin-bottom: 3px; }

/* ---------- Generic signature block ---------- */
.signature-section{ text-align:right; margin-top: 10px; }
.signature-section .sign{ text-align:center; }
.signature-section .sign h5{ text-decoration:underline; font-weight:700; }

/* ---------- Misc ---------- */
.additional-details{ margin-top:8px; line-height:1.2; font-size:11px; }
.control-number{ text-align:right; font-size:11px; font-weight:700; }

/* ---------- Two columns ---------- */
.side-by-side{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap: 0.25in; margin-top: 5px;
}
.left-content{
  flex: 1; padding: 8px 10px; border: 1px solid #000; border-radius: 1px;
  align-self:flex-start; margin-bottom: 0.20in; padding-right: 10px;
}
.right-content{ flex: 2; padding-left: 10px; margin-top: 10px; }
.right-content p{ margin-bottom: 5px; font-size: 12px; }
.right-content .control-number p{ font-size:12px; font-weight:400; margin-bottom:5px; }
.right-content .signature-section{ text-align:center; }
.right-content .signature-section p{ font-size:12px; margin-top:10px; }

/* ---------- Thumbprints ---------- */
.thumb-section{ margin-top: 16px; text-align: center; position: relative; top: 10px; }
.thumb-box{ border: 1px solid #000; width: 0.9in; height: 0.9in; display:flex; justify-content:center; align-items:center; }

/* ---------- Records ---------- */
.records-section{ display:flex; justify-content:space-between; margin-top: 15px; gap: 0.25in; }
.records-section section{ width:48%; }
.records-section p{ margin-bottom:30px; }

/* ---------- Overlay (for optional e-sig images) ---------- */
.pb-signature{
  position:absolute; top:-0.95in; left:50%; transform:translateX(-50%);
  width:1.50in; height:auto; z-index:3; pointer-events:none;
}
.auth-signature{
  position:absolute; top:-0.78in; left:50%; transform:translateX(-50%);
  width:1.32in; height:auto; z-index:3; pointer-events:none;
}

/* ---------- Base print ---------- */
@media print{
  @page{ size: auto; margin: var(--page-margin); }

  html, body{
    padding: 0 !important; margin: 0 !important; background: #fff; overflow: visible !important;
  }

  .container{
    max-width: none; width: calc(100% - 2 * var(--page-margin));
    padding: var(--content-pad); margin: 0 auto !important;
    page-break-before: avoid; page-break-after: avoid; page-break-inside: avoid;
  }

  header, .council-box, .right-content, .thumb-section, .records-section,
  .signatory-wrap, .barangay-certification{ break-inside: avoid; }

  .logo{ width: 0.95in; }
  .thumb-box{ width: 0.65in; height: 0.65in; }
}

/* ---------- ONE-PAGE LOCK (compact defaults for all sizes) ---------- */
@media print{
  :root{
    --page-margin: 5mm;         /* tighter → more printable height */
    --content-width: 6.50in;
    --content-pad: 0.15in;
  }
  @page{ size: auto; margin: var(--page-margin); }

  body{ font-size: 9.5px; line-height: 1.18; }
  h2{ font-size: 15px; }
  .logo{ width: 0.75in; }
  .header-line{ margin-top: 1px; }

  .side-by-side{ gap: 0.15in; align-items:flex-start; margin-top: 3px; }
  .left-content{ padding: 0.08in; margin-bottom: 0.15in; border-radius: 0; align-self:flex-start; }
  .right-content{ margin-top: 3px; padding-left: 5px; }
  .right-content p{ font-size: 10px; margin-bottom: 2px; }

  .council-box{ font-size: 9.5px; padding: 2px; }
  .council-box h1{ font-size: 14px; margin-bottom: 2px; }
  .official-title{ line-height: 1.1; }
  .official-title strong{ margin-bottom: 5px; }

  .thumb-box{ width: 0.45in; height: 0.45in; }
  .records-section{ gap: 0.15in; margin-top: 6px; }
  .records-section p{ margin-bottom: 2px; }

  .pb-name{ font-size: 13px; }
  .pb-title{ font-size: 8.5px; margin-bottom: 5px; }
  .authority-note{ font-size: 11px; margin: 8px 0; }
  .auth-name{ font-size: 13px; margin-top: 0.03in; }
  .auth-title{ font-size: 8.5px; margin-bottom: 5px; }

  /* “Global” safety zoom for Blink/WebKit */
  body{ zoom: 0.80; }
}

/* ---------- SIZE-SPECIFIC OVERRIDES (via body class) ---------- */
@media print {
  /* ===== A4 ===== */
  body.page-a4{ zoom: 0.82; }
  body.page-a4 .pb-signature{ top:-0.75in; }
  body.page-a4 .auth-signature{ top:-0.58in; }
  body.page-a4 p{ font-size:14px !important; line-height:1.22 !important; margin-bottom:4px !important; }

  /* ===== 8.5×13in (Long) ===== */
  body.page-long{ zoom: 1.30; }
  body.page-long .left-content{ flex: 1.38 !important; padding: 0.12in !important; margin-bottom: 0.16in !important; }
  body.page-long .right-content{ flex: 1.62 !important; padding-left: 0.12in !important; }
  body.page-long .side-by-side{ gap: 0.17in !important; margin-top: 6px !important; }
  body.page-long .logo{ width: 0.92in !important; }
  body.page-long .header-text h3, body.page-long .header-text h4{ font-size: 14px !important; }
  body.page-long h2{ font-size: 18px !important; }
  body.page-long .council-box{ font-size: 12.8px !important; padding: 7px !important; }
  body.page-long .council-box h1{ font-size: 18px !important; }
  body.page-long .official-title{ font-size: 12.6px !important; line-height: 1.20 !important; }
  body.page-long .official-title strong{ margin-bottom: 7px !important; }
  body.page-long p{ font-size:16px !important; line-height:1.22 !important; margin-bottom:4px !important; }
  body.page-long .container > div[style*="display: flex"][style*="justify-content: space-between"][style*="margin-bottom"]{
    margin-top: -4px !important; margin-bottom: 2px !important; break-inside: avoid; page-break-inside: avoid;
  }
  body.page-long .signatory-wrap{ margin-top: -0.48in !important; min-height: 0.44in !important; justify-content: flex-start !important; }
  body.page-long .thumb-box{ width: 0.72in !important; height: 0.72in !important; }
  body.page-long .pb-signature{ top:-1.00in !important; }
  body.page-long .auth-signature{ top:-0.80in !important; }

  /* ===== Letter ===== */
  body.page-letter{ zoom: 0.82; }
  body.page-letter p{ font-size:12px !important; line-height:1.22 !important; margin-bottom:4px !important; }
  body.page-letter h2{ font-size: 15px; }
  body.page-letter .side-by-side{ gap: 0.14in; margin-top: 2px; }
  body.page-letter .left-content{ margin-bottom: 0.12in; padding: 0.07in; }
  body.page-letter .thumb-box{ width: 0.55in; height: 0.55in; }
  body.page-letter .pb-signature{ top:-1.10in; }
  body.page-letter .auth-signature{ top:-0.90in; }
  body.page-letter .right-content > div[style*="margin-top: 70px"]{ margin-top: 6px !important; }
  body.page-letter section[style*="margin-top: 20px"][style*="text-align: center"]{ margin-top: 4px !important; }
  body.page-letter .container > div[style*="display: flex"][style*="justify-content: space-between"][style*="margin-bottom"]{
    margin-top: -36px !important; margin-bottom: 2px !important; break-inside: avoid; page-break-inside: avoid;
  }
  body.page-letter .signatory-wrap{ justify-content: flex-start !important; min-height: 0.45in !important; margin-top: -50px !important; }
  body.page-letter .signatory-wrap h5{ font-size: 13.5px !important; margin: 0 0 1px !important; }
  body.page-letter .signatory-wrap p { margin: 0 0 3px !important; }

  .lupon-tanod-row { margin-top: 5px !important; }
  section[style*="margin-top: 20px"][style*="text-align: center"] { margin-top: 3px !important; }
  .container > div[style*="display: flex"][style*="justify-content: space-between"][style*="margin-bottom"] {
    margin-bottom: 3px !important; break-inside: avoid !important; page-break-inside: avoid !important;
  }
}

/* ---------- Firefox fallback (match zooms above) ---------- */
@-moz-document url-prefix() {
  @media print {
    body.page-a4{
      transform: scale(0.82);
      transform-origin: top left;
      width: calc(100% / 0.82);
    }
    body.page-long{
      transform: scale(1.06);
      transform-origin: top left;
      width: calc(100% / 1.06);
    }
    body.page-letter{
      transform: scale(0.82);
      transform-origin: top left;
      width: calc(100% / 0.82);
    }
  }
}

/* ===== FINAL OVERRIDES: smaller text + fixed thumb spacing ===== */
@media print{
  /* Global downsizing */
  :root{ --page-margin:5mm; --content-width:6.5in; --content-pad:0.15in; }
  body{ font-size:8.6px !important; line-height:1.15 !important; }
  h2{ font-size:13px !important; }

  /* Paragraph/body copy smaller everywhere */
  .right-content p,
  .barangay-certification p,
  .council-box,
  .official-title{ font-size:9.6px !important; line-height:1.18 !important; }

  /* Page-class paragraph sizes */
  body.page-a4 p, body.page-letter p{ font-size:12px !important; line-height:1.18 !important; }
  body.page-long  p{ font-size:13px !important; line-height:1.18 !important; }

  /* Thumb marks: align in a row and add gap before Community Tax lines */
  .thumb-section{
    display:flex !important;
    justify-content:flex-start !important;
    align-items:center !important;
    gap:0.35in !important;           /* space between Left/Right */
    position: static !important;     /* cancel earlier top offset */
    margin-top:6px !important;
    margin-bottom:10px !important;   /* space before cedula lines */
    text-align:left !important;
  }
  .thumb-section .pair{              /* optional wrapper per label+box */
    display:flex; align-items:center; gap:6px;
  }
  .thumb-section .thumb-box{
    width:0.50in !important; height:0.50in !important;
    margin-left:6px !important;
  }
  .thumb-section b,
  .thumb-section strong,
  .thumb-section span{ font-size:9px !important; }

  /* Community Tax lines block (use wrapper if possible) */
  .cedula-block{ line-height:1.25 !important; }
  .cedula-block p{ margin:2px 0 !important; }

  /* Fallback: add spacing even without wrapper */
  .thumb-section + *{ margin-top:20px !important; }
}

/* ==== COUNCIL BOX SMALLER + MOVE DESIGN UP ==== */
@media print{
  /* lift the whole design upward (tune -mm value as needed) */
  .container{ margin-top:-8mm !important; }

  /* make the left column narrower so the council box is smaller */
  .left-content{ flex:0.88 !important; padding:0.06in !important; }
  .right-content{ flex:2.12 !important; padding-left:6px !important; }
  .side-by-side{ margin-top:2px !important; }

  /* tighten council box text */
  .council-box{ font-size:8.8px !important; line-height:1.10 !important; padding:3px !important; }
  .council-box h1{ font-size:12px !important; margin:0 0 1px !important; }
  .official-title{ font-size:8.8px !important; line-height:1.08 !important; }
  .official-title strong{ margin-bottom:3px !important; }
}

/* page-class specific balances */
@media print{
  body.page-letter .container{ margin-top:-10mm !important; }
  body.page-letter .left-content{ flex:0.86 !important; }
  body.page-letter .right-content{ flex:2.14 !important; }

  body.page-a4 .left-content{ flex:0.86 !important; }
  body.page-a4 .right-content{ flex:2.14 !important; }

  body.page-long .left-content{ flex:1.00 !important; }
  body.page-long .right-content{ flex:2.00 !important; }
}

/* ==== PULL CEDULA + SIGNATORIES UP UNDER THUMBPRINTS ==== */
@media print{
  .thumb-section{ margin-bottom:4px !important; }
  .thumb-section + *{ margin-top:0 !important; } /* overrides earlier +20px gap */

  .cedula-block{
    margin-top:-6px !important;
    line-height:1.15 !important;
    break-inside:avoid !important; page-break-inside:avoid !important;
  }

  .signatory-wrap{
    margin-top:-10px !important; min-height:0 !important;
    break-before:avoid !important; page-break-before:avoid !important;
    break-inside:avoid !important; page-break-inside:avoid !important;
  }

  /* slight extra fit so all stays on page 1 */
  body.page-letter{ zoom:0.78 !important; }
  body.page-a4{    zoom:0.79 !important; }
}
